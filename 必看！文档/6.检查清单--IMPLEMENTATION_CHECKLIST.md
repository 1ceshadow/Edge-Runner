# âœ… Edge-Runner é‡æ„å®ç°æ£€æŸ¥æ¸…å•

## ğŸ¯ æ€»ä½“ç›®æ ‡æ¸…å•

### åˆå§‹åŒ–é˜¶æ®µ
- [ ] é˜…è¯» README_REFACTORING.md
- [ ] é˜…è¯» REFACTORING_GUIDE.md
- [ ] é˜…è¯» QUICK_START.md
- [ ] åˆ›å»º `Assets/Scripts/Framework/` ç›®å½•

---

## ğŸ“‹ Framework æ¡†æ¶å±‚å®ç°

### ServiceLocator ä¾èµ–æ³¨å…¥
- [ ] åˆ›å»º `ServiceLocator.cs`
- [ ] æµ‹è¯• `Register<T>()`
- [ ] æµ‹è¯• `Get<T>()`
- [ ] æµ‹è¯• `Unregister<T>()`
- [ ] æµ‹è¯• `TryGet<T>()`

**éªŒæ”¶æ¡ä»¶**:
```csharp
var service = "test";
ServiceLocator.Register(service);
Assert.AreEqual("test", ServiceLocator.Get<string>());
```

---

### EventBus äº‹ä»¶ç³»ç»Ÿ
- [ ] åˆ›å»º `EventBus.cs`
- [ ] å®šä¹‰æ‰€æœ‰äº‹ä»¶ç±»å‹
- [ ] æµ‹è¯• `Subscribe<T>()`
- [ ] æµ‹è¯• `Publish<T>()`
- [ ] æµ‹è¯• `Unsubscribe<T>()`
- [ ] éªŒè¯å†…å­˜ä¸æ³„æ¼

**éªŒæ”¶æ¡ä»¶**:
```csharp
bool eventReceived = false;
EventBus.Subscribe<TestEvent>(e => eventReceived = true);
EventBus.Publish(new TestEvent());
Assert.IsTrue(eventReceived);
```

---

### GameConfig é…ç½®ç®¡ç†
- [ ] åˆ›å»º `GameConfig.cs` (ScriptableObject)
- [ ] å®šä¹‰ `PlayerConfig`
- [ ] å®šä¹‰ `EnemyConfig`
- [ ] å®šä¹‰ `CameraConfig`
- [ ] å®šä¹‰ `AudioConfig`
- [ ] å®šä¹‰ `GameBalanceConfig`
- [ ] åœ¨ Assets ä¸­åˆ›å»ºå®ä¾‹
- [ ] éªŒè¯ Load() æ–¹æ³•
- [ ] åœ¨ Inspector ä¸­è°ƒæ•´å‚æ•°

**éªŒæ”¶æ¡ä»¶**:
```csharp
var config = GameConfig.Load();
Assert.NotNull(config);
Assert.Greater(config.Player.MoveSpeed, 0);
```

---

### å¯¹è±¡æ± ç³»ç»Ÿ
- [ ] åˆ›å»º `IPoolable` æ¥å£
- [ ] åˆ›å»º `GenericPool<T>` æ³›å‹ç±»
- [ ] æµ‹è¯• `Acquire()`
- [ ] æµ‹è¯• `Release()`
- [ ] æµ‹è¯• `Prewarm()`
- [ ] æµ‹è¯• `ReleaseAll()`
- [ ] æ€§èƒ½åŸºå‡†æµ‹è¯•

**éªŒæ”¶æ¡ä»¶**:
```csharp
var pool = new GenericPool<TestObject>(prefab, 10, null);
var obj = pool.Acquire();
Assert.IsNotNull(obj);
pool.Release(obj);
Assert.AreEqual(11, pool.AvailableCount);
```

---

### æ¥å£å®šä¹‰
- [ ] åˆ›å»º `Interfaces.cs`
- [ ] å®šä¹‰ `IPlayerService`
- [ ] å®šä¹‰ `IMoveable`
- [ ] å®šä¹‰ `IHealable`
- [ ] å®šä¹‰ `IAttackable`
- [ ] å®šä¹‰ `IEnergyProvider`
- [ ] å®šä¹‰ `IPlayerState`
- [ ] å®šä¹‰ `IEnemy`
- [ ] å®šä¹‰ `IProjectile`

---

## ğŸ® ç©å®¶ç³»ç»Ÿé‡æ„

### PlayerRoot åè°ƒå™¨
- [ ] åˆ›å»º `PlayerRoot.cs`
- [ ] å®ç° `IPlayerService`
- [ ] åˆå§‹åŒ–æ‰€æœ‰å­ç³»ç»Ÿ
- [ ] æ³¨å†Œåˆ° ServiceLocator
- [ ] è®¢é˜…å…³é”®äº‹ä»¶
- [ ] æµ‹è¯• `GetPosition()`
- [ ] æµ‹è¯• `TakeDamage()`
- [ ] æµ‹è¯• `IsAlive()`

**éªŒæ”¶æ¡ä»¶**:
```csharp
var player = ServiceLocator.Get<IPlayerService>();
Assert.NotNull(player);
Assert.AreEqual(expectedPos, player.GetPosition());
```

---

### PlayerMovementController ç§»åŠ¨æ§åˆ¶
- [ ] åˆ›å»º `PlayerMovementController.cs`
- [ ] å®ç° `IMoveable`
- [ ] å®ç° `Initialize()`
- [ ] å®ç° `SetMoveInput()`
- [ ] å®ç° `SetSpeed()`
- [ ] å®ç°æ—‹è½¬é€»è¾‘
- [ ] åŒæ­¥ Animator
- [ ] æ€§èƒ½æµ‹è¯• (no allocation in Update)

**éªŒæ”¶æ¡ä»¶**:
```csharp
movement.SetMoveInput(Vector2.right);
Assert.AreEqual(Vector2.right, movement.GetDirection());
```

---

### PlayerEnergySystem èƒ½é‡ç³»ç»Ÿ
- [ ] åˆ›å»º `PlayerEnergySystem.cs`
- [ ] å®ç° `IEnergyProvider`
- [ ] å®ç° `AddEnergy()`
- [ ] å®ç° `ConsumeEnergy()`
- [ ] å®ç° `TryConsumeEnergy()`
- [ ] è‡ªåŠ¨å……èƒ½æœºåˆ¶
- [ ] äº‹ä»¶å‘é€
- [ ] å¤„ç†å‡»æ€å¥–åŠ±

**éªŒæ”¶æ¡ä»¶**:
```csharp
energy.Initialize();
energy.AddEnergy(10);
Assert.IsTrue(energy.TryConsumeEnergy(5));
Assert.AreEqual(75, energy.GetCurrentEnergy());
```

---

### PlayerHealthSystem è¡€é‡ç³»ç»Ÿ
- [ ] åˆ›å»º `PlayerHealthSystem.cs`
- [ ] å®ç° `IHealable`
- [ ] å®ç° `TakeDamage()`
- [ ] å®ç° `Heal()`
- [ ] æ­»äº¡äº‹ä»¶å‘é€
- [ ] å›è°ƒæ­£ç¡®è§¦å‘

**éªŒæ”¶æ¡ä»¶**:
```csharp
health.Initialize();
health.TakeDamage(1);
Assert.IsFalse(health.IsAlive());
```

---

### PlayerCombatSystem æˆ˜æ–—ç³»ç»Ÿ
- [ ] åˆ›å»º `PlayerCombatSystem.cs`
- [ ] å®ç° `IAttackable`
- [ ] å®ç° `TryDash()`
- [ ] å®ç° `TryActivateTimeSlow()`
- [ ] æé™é—ªé¿æ£€æµ‹
- [ ] èƒ½é‡æ¶ˆè€—éªŒè¯
- [ ] äº‹ä»¶å‘é€éªŒè¯

**éªŒæ”¶æ¡ä»¶**:
```csharp
combat.Initialize(energy);
bool result = combat.TryDash();
Assert.IsTrue(result);
```

---

### PlayerInputHandler è¾“å…¥å¤„ç†
- [ ] åˆ›å»º `PlayerInputHandler.cs`
- [ ] ç›‘å¬ç§»åŠ¨è¾“å…¥
- [ ] ç›‘å¬å†²åˆºè¾“å…¥
- [ ] ç›‘å¬æ—¶ç¼“è¾“å…¥
- [ ] è½¬å‘åˆ°å¯¹åº”ç³»ç»Ÿ
- [ ] æ— æ¸¸æˆé€»è¾‘æ··å…¥

**éªŒæ”¶æ¡ä»¶**:
```csharp
// æŒ‰ä¸‹ç©ºæ ¼ï¼Œå†²åˆºè¢«è°ƒç”¨
Input.Simulate(KeyCode.Space);
Assert.IsTrue(combatSystemCalled);
```

---

### PlayerStateMachine çŠ¶æ€æœº
- [ ] åˆ›å»º `PlayerStateMachine.cs`
- [ ] åˆ›å»º `IPlayerState` æ¥å£
- [ ] å®ç° `IdleState`
- [ ] å®ç° `MovingState`
- [ ] å®ç° `DashingState`
- [ ] å®ç° `DeadState`
- [ ] çŠ¶æ€è½¬æ¢é€»è¾‘
- [ ] æµ‹è¯•æ‰€æœ‰è½¬æ¢è·¯å¾„

**éªŒæ”¶æ¡ä»¶**:
```csharp
stateMachine.TransitionTo<IdleState>();
Assert.IsInstanceOf<IdleState>(stateMachine.CurrentState);
```

---

## ğŸ‘¾ æ•Œäººç³»ç»Ÿé‡æ„

### EnemyBase æ•ŒäººåŸºç±»
- [ ] åˆ›å»º `EnemyBase.cs`
- [ ] å®ç° `IEnemy`
- [ ] å®ç° `IPoolable`
- [ ] ç”Ÿå‘½å€¼ç®¡ç†
- [ ] è·å– PlayerService
- [ ] å‡»æ€äº‹ä»¶å‘é€
- [ ] å›è¡€æ–¹æ³•

**éªŒæ”¶æ¡ä»¶**:
```csharp
enemy.TakeDamage(1);
Assert.IsFalse(enemy.IsAlive());
```

---

### ShooterEnemy å°„æ‰‹æ•Œäºº
- [ ] åˆ›å»º `ShooterEnemy.cs`
- [ ] ç»§æ‰¿ `EnemyBase`
- [ ] å®ç°å°„å‡»é€»è¾‘
- [ ] æœå‘ç©å®¶æ—‹è½¬
- [ ] è·å–å­å¼¹æ± 
- [ ] å°„å‡»é—´éš”æ§åˆ¶
- [ ] è§†è·æ£€æµ‹

**éªŒæ”¶æ¡ä»¶**:
```csharp
// å°„å‡»è¢«æ­£ç¡®è°ƒç”¨
enemy.Update();
Assert.AreEqual(expectedBulletCount, bulletsSpawned);
```

---

### EnemyPool æ•Œäººå¯¹è±¡æ± 
- [ ] åˆ›å»º `EnemyPool.cs`
- [ ] ä½¿ç”¨ `GenericPool<T>`
- [ ] åœ¨ ServiceLocator ä¸­æ³¨å†Œ
- [ ] å®ç° `GetEnemy()`
- [ ] å®ç° `ReturnEnemy()`
- [ ] é¢„çƒ­æ± 
- [ ] æ€§èƒ½éªŒè¯

**éªŒæ”¶æ¡ä»¶**:
```csharp
var pool = ServiceLocator.Get<EnemyPool>();
var enemy = pool.GetEnemy();
Assert.IsNotNull(enemy);
```

---

## ğŸ’¥ æŠ•å°„ç‰©ç³»ç»Ÿé‡æ„

### Bullet å­å¼¹ç±»
- [ ] åˆ›å»º `Bullet.cs`
- [ ] å®ç° `IProjectile`
- [ ] å®ç° `IPoolable`
- [ ] `Launch()` æ–¹æ³•
- [ ] `Return()` æ–¹æ³•
- [ ] ç”Ÿå‘½å‘¨æœŸç®¡ç†
- [ ] ç¢°æ’æ£€æµ‹
- [ ] è·ç¦»é™åˆ¶

**éªŒæ”¶æ¡ä»¶**:
```csharp
bullet.Launch(pos, dir, speed);
Assert.IsTrue(bullet.IsActive());
```

---

### BulletPool å­å¼¹å¯¹è±¡æ± 
- [ ] åˆ›å»º `BulletPool.cs`
- [ ] ä½¿ç”¨ `GenericPool<T>`
- [ ] åœ¨ ServiceLocator ä¸­æ³¨å†Œ
- [ ] å®ç° `GetBullet()`
- [ ] å®ç° `ReturnBullet()`
- [ ] é¢„çƒ­ 100+ ä¸ªå­å¼¹
- [ ] GC åˆ†é…éªŒè¯

**éªŒæ”¶æ¡ä»¶**:
```csharp
var pool = ServiceLocator.Get<BulletPool>();
var bullet = pool.GetBullet();
Assert.AreEqual(99, pool.AvailableCount);
```

---

## ğŸ§ª é›†æˆæµ‹è¯•

### æ¡†æ¶é›†æˆ
- [ ] ServiceLocator èƒ½æ³¨å†Œå’Œè·å–æ‰€æœ‰æœåŠ¡
- [ ] EventBus äº‹ä»¶èƒ½æ­£ç¡®è®¢é˜…å’Œå‘é€
- [ ] GameConfig æ­£ç¡®åŠ è½½
- [ ] å¯¹è±¡æ± æ­£å¸¸å·¥ä½œ

### ç©å®¶ç³»ç»Ÿé›†æˆ
- [ ] ç©å®¶èƒ½ç§»åŠ¨
- [ ] ç©å®¶èƒ½å†²åˆº
- [ ] ç©å®¶èƒ½ä½¿ç”¨æ—¶ç¼“
- [ ] èƒ½é‡ç³»ç»Ÿå·¥ä½œ
- [ ] çŠ¶æ€æœºè½¬æ¢æ­£ç¡®
- [ ] å—ä¼¤å’Œæ­»äº¡å·¥ä½œ

### æ•Œäººç³»ç»Ÿé›†æˆ
- [ ] æ•Œäººèƒ½ç”Ÿæˆ
- [ ] æ•Œäººèƒ½å°„å‡»
- [ ] æ•Œäººèƒ½è¢«å‡»æ€
- [ ] å¯¹è±¡æ± å·¥ä½œ
- [ ] äº‹ä»¶æ­£ç¡®å‘é€

### å®Œæ•´æ¸¸æˆæµç¨‹
- [ ] æ¸¸æˆå¯åŠ¨æ­£å¸¸
- [ ] ä¸€ä¸ªå®Œæ•´å…³å¡èƒ½è¿›è¡Œ
- [ ] èµ¢/è¾“æ¡ä»¶æ­£ç¡®
- [ ] UI æ­£ç¡®æ›´æ–°
- [ ] éŸ³é¢‘æ­£ç¡®æ’­æ”¾

---

## ğŸ“Š æ€§èƒ½æµ‹è¯•

### å†…å­˜æŒ‡æ ‡
- [ ] GC Alloc æ¯å¸§ < 0.5 MB âœ…
- [ ] å†…å­˜å³°å€¼ < 300 MB âœ…
- [ ] æ— å†…å­˜æ³„æ¼ âœ…

### å¸§ç‡æŒ‡æ ‡
- [ ] å¹³å‡å¸§æ—¶é—´ < 5 ms âœ…
- [ ] FPS ç¨³å®š > 60 âœ…
- [ ] æ»¡è½½ FPS ä¸ä½äº 45 âœ…

### å¯¹è±¡æ± æ•ˆç‡
- [ ] å­å¼¹æ± å¤ç”¨ç‡ > 95% âœ…
- [ ] æ•Œäººæ± å¤ç”¨ç‡ > 90% âœ…
- [ ] é¢„çƒ­æœ‰æ•ˆå‡å°‘å¡é¡¿ âœ…

**æ€§èƒ½æµ‹è¯•è„šæœ¬**:
```csharp
[Test]
public void Performance_CheckGCAlloc()
{
    Profiler.GetTotalAllocatedMemory();
    // è¿è¡Œ 1000 å¸§
    // Profiler.GetTotalAllocatedMemory();
    // Assert GC < threshold
}
```

---

## ğŸ“ ä»£ç è´¨é‡æ£€æŸ¥

### å‘½åè§„èŒƒ
- [ ] æ‰€æœ‰ç±»åä½¿ç”¨ PascalCase
- [ ] æ‰€æœ‰æ–¹æ³•åä½¿ç”¨ PascalCase
- [ ] æ‰€æœ‰å­—æ®µä½¿ç”¨ camelCase (ç§æœ‰) æˆ– PascalCase (å…¬å¼€)
- [ ] æ¥å£åä»¥ I å¼€å¤´
- [ ] äº‹ä»¶åä»¥ Event ç»“å°¾

### ä»£ç é£æ ¼
- [ ] ç¼©è¿›ä½¿ç”¨ 4 ä¸ªç©ºæ ¼
- [ ] è¡Œé•¿åº¦ < 100 å­—ç¬¦
- [ ] æ¯ä¸ªæ–‡ä»¶ä¸€ä¸ªç±»
- [ ] ä½¿ç”¨ using è¯­å¥ç»„ç»‡å¯¼å…¥

### æ–‡æ¡£
- [ ] æ‰€æœ‰æ–‡ä»¶éƒ½æœ‰æ–‡ä»¶å¤´æ³¨é‡Š
- [ ] æ‰€æœ‰ç±»éƒ½æœ‰ç±»æ³¨é‡Š
- [ ] æ‰€æœ‰å…¬å¼€æ–¹æ³•éƒ½æœ‰ XML æ–‡æ¡£
- [ ] å¤æ‚é€»è¾‘éƒ½æœ‰è§£é‡Šæ³¨é‡Š

### è®¾è®¡
- [ ] éµå¾ª SOLID åŸåˆ™
- [ ] å•ä¸€èŒè´£
- [ ] ä¾èµ–æŠ½è±¡è€Œéå…·ä½“
- [ ] ä½¿ç”¨äº‹ä»¶é€šä¿¡è€Œéç›´æ¥è°ƒç”¨

---

## ğŸ”„ è¿ç§»æ£€æŸ¥æ¸…å•

### æ›¿æ¢æ—§ç³»ç»Ÿ
- [ ] åˆ é™¤æˆ–ç¦ç”¨æ—§çš„ `PlayerMovement.cs`
- [ ] åˆ é™¤æˆ–ç¦ç”¨æ—§çš„ `Player.cs`
- [ ] åˆ é™¤æˆ–ç¦ç”¨æ—§çš„ `EnemyController.cs`
- [ ] åˆ é™¤æˆ–ç¦ç”¨æ—§çš„ `BulletController.cs`
- [ ] åˆ é™¤æˆ–ç¦ç”¨æ—§çš„ `BulletManager.cs`

### æ›´æ–°åœºæ™¯
- [ ] æ·»åŠ  `BulletPool` åˆ°åœºæ™¯
- [ ] æ·»åŠ  `EnemyPool` åˆ°åœºæ™¯
- [ ] æ›´æ–°ç©å®¶ Prefab
- [ ] æ›´æ–°æ•Œäºº Prefab
- [ ] æ›´æ–° UI ç»„ä»¶

### éªŒè¯å…³å¡
- [ ] æ‰€æœ‰å…³å¡éƒ½èƒ½æ­£å¸¸åŠ è½½
- [ ] æ‰€æœ‰å…³å¡éƒ½èƒ½æ­£å¸¸æ¸¸ç©
- [ ] èµ¢/è¾“æ¡ä»¶æ­£ç¡®

---

## ğŸ“š æ–‡æ¡£å®Œæ•´æ€§

### å·²ç”Ÿæˆæ–‡æ¡£
- [x] REFACTORING_GUIDE.md (è¯¦ç»†æ¶æ„)
- [x] QUICK_START.md (å¿«é€Ÿå¼€å§‹)
- [x] PERFORMANCE_GUIDE.md (æ€§èƒ½ä¼˜åŒ–)
- [x] README_REFACTORING.md (æ€»ä½“æŒ‡å—)
- [x] REFACTOR_SUMMARY.md (äº¤ä»˜æ€»ç»“)
- [x] IMPLEMENTATION_CHECKLIST.md (æœ¬æ–‡ä»¶)

### ä»£ç ç¤ºä¾‹
- [x] 40+ ä¸ªä»£ç ç¤ºä¾‹
- [x] æœ€ä½³å®è·µ
- [x] å¸¸è§é—®é¢˜è§£ç­”

---

## âœ… æœ€ç»ˆéªŒæ”¶æ ‡å‡†

### åŠŸèƒ½å®Œæ•´æ€§
- [ ] æ‰€æœ‰æ–°ç³»ç»Ÿå·²å®ç°
- [ ] æ‰€æœ‰æ—§ç³»ç»Ÿå·²è¿ç§»
- [ ] æ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡
- [ ] æ²¡æœ‰ç¼–è¯‘é”™è¯¯

### æ€§èƒ½è¾¾æˆ
- [ ] GC Alloc æ”¹å–„ 80%
- [ ] å¸§æ—¶é—´æ”¹å–„ 50%
- [ ] å†…å­˜æ”¹å–„ 37%
- [ ] æ— å†…å­˜æ³„æ¼

### ä»£ç è´¨é‡
- [ ] ä»£ç å®¡æŸ¥é€šè¿‡
- [ ] æ‰€æœ‰æ–‡æ¡£å®Œæ•´
- [ ] æ‰€æœ‰ç¤ºä¾‹å¯è¿è¡Œ
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡

### å¯ç»´æŠ¤æ€§
- [ ] ä»£ç ç»“æ„æ¸…æ™°
- [ ] æ˜“äºæ‰©å±•
- [ ] æ˜“äºæµ‹è¯•
- [ ] æ˜“äºç†è§£

---

## ğŸ‰ é¡¹ç›®å®Œæˆï¼

å½“æ‰€æœ‰é¡¹éƒ½è¢«å‹¾é€‰æ—¶ï¼Œæ­å–œï¼ğŸŠ

ä½ å·²ç»æˆåŠŸå®Œæˆäº† Edge-Runner çš„æ¶æ„é‡æ„ï¼

### ä¸‹ä¸€æ­¥
1. åˆ›å»ºæ–°çš„ Roadmap
2. æ·»åŠ æ›´å¤šåŠŸèƒ½
3. ä¼˜åŒ–æ¸¸æˆç©æ³•
4. å‘å¸ƒæ¸¸æˆ

---

**æ£€æŸ¥æ¸…å•ç‰ˆæœ¬**: 1.0  
**æœ€åæ›´æ–°**: 2025-11-25  
**æ€»é¡¹ç›®æ•°**: 150+
